# Сборка DocRenamer с поддержкой tkinter

## Зависимости tkinter в исполняемых пакетах

Для корректной работы tkinter в исполняемых файлах, созданных с помощью PyInstaller, необходимо включить следующие скрытые импорты:

- `tkinter` - основной модуль tkinter
- `tkinter.ttk` - современные виджеты
- `tkinter.filedialog` - диалоги выбора файлов
- `tkinter.messagebox` - диалоги сообщений
- `tkinter.constants` - константы tkinter
- `tkinter.font` - работа со шрифтами
- `tkinter.scrolledtext` - текстовые области с прокруткой
- `_tkinter` - низкоуровневый интерфейс

## Способы сборки

### 1. Автоматическая сборка
```bash
./build.sh
```

### 2. Ручная сборка

#### Папочная версия (быстрый запуск)
```bash
pyinstaller DocRenamer.spec
```
Результат: `dist/DocRenamer/DocRenamer`

#### Единый исполняемый файл (медленный запуск, удобнее распространять)
```bash
pyinstaller DocRenamer_onefile.spec
```
Результат: `dist/DocRenamer`

### 3. Сборка из командной строки

#### С указанием скрытых импортов
```bash
pyinstaller --onedir --windowed \
  --hidden-import=tkinter \
  --hidden-import=tkinter.ttk \
  --hidden-import=tkinter.filedialog \
  --hidden-import=tkinter.messagebox \
  --hidden-import=tkinter.constants \
  --hidden-import=tkinter.font \
  --hidden-import=tkinter.scrolledtext \
  --hidden-import=_tkinter \
  --name=DocRenamer \
  docrenamer.py
```

#### Единый файл
```bash
pyinstaller --onefile --windowed \
  --hidden-import=tkinter \
  --hidden-import=tkinter.ttk \
  --hidden-import=tkinter.filedialog \
  --hidden-import=tkinter.messagebox \
  --hidden-import=tkinter.constants \
  --hidden-import=tkinter.font \
  --hidden-import=tkinter.scrolledtext \
  --hidden-import=_tkinter \
  --name=DocRenamer \
  docrenamer.py
```

## Примечания

- Папочная версия запускается быстрее, но требует всю папку для распространения
- Единый файл удобнее распространять, но запускается медленнее (особенно первый раз)
- Опция `--windowed` скрывает консольное окно
- В Linux исполняемые файлы не имеют расширения
- Убедитесь, что система имеет установленные библиотеки tkinter (обычно входят в Python)

## Устранение проблем

Если приложение не запускается:
1. Проверьте наличие tkinter: `python3 -c "import tkinter; print('OK')"`
2. Запустите исполняемый файл из терминала для просмотра ошибок
3. Убедитесь, что все зависимости включены в `.spec` файл

## Размеры файлов

- Папочная версия: ~1.5 МБ основной файл + ~30 МБ зависимостей в папке `_internal`
- Единый файл: ~13 МБ
